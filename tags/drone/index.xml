<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>drone on 德瑞克小窩</title><link>https://www.k-derek.dev/tags/drone/</link><description>Recent content in drone on 德瑞克小窩</description><generator>Hugo -- gohugo.io</generator><language>zh-tw</language><managingEditor>peter890701@gmail.com (Derek)</managingEditor><webMaster>peter890701@gmail.com (Derek)</webMaster><lastBuildDate>Fri, 02 Feb 2018 22:47:19 +0000</lastBuildDate><atom:link href="https://www.k-derek.dev/tags/drone/index.xml" rel="self" type="application/rss+xml"/><item><title>20180202</title><link>https://www.k-derek.dev/posts/20180202/</link><pubDate>Fri, 02 Feb 2018 22:47:19 +0000</pubDate><author>peter890701@gmail.com (Derek)</author><guid>https://www.k-derek.dev/posts/20180202/</guid><description>前幾日建置完Drone跟寫完PlurkBot後
今天很開心的要來實驗Drone快速自動測試的功能
隨便修改一個PlurkBot的檔案後Push!(能下Push就是爽!)
再到Drone的後台去看，很好!很正常的執行起來了!
我可以安安心心的看動畫等等來看結果
1HR~過去了
都看完兩集動畫了，結果應該也早就出來了吧
疑~怎麼還在跑??
不可能啊!
這必定有鬼，難道跟最近鬼門開有關!?
不可能，只好來查看一下log紀錄
執行 docker logs XXXXXXX
出現了!!!
time=&amp;ldquo;2018-02-02T14:54:01Z&amp;rdquo; level=fatal msg=&amp;ldquo;DRONE_HOST is not properly configured&amp;rdquo;
三小咚咚???
HOST不對?
不對阿~我明明就是按照網路的設定阿
只有Port不一樣，怎麼會這樣呢?
莫非我一定要用80，一定要這樣霸凌我嗎?
可是80又被IIS占用
只好另求他法這次來是是Nginx
結果好像更悲劇 ERROR: for nginx Cannot start service nginx: OCI runtime create failed: container_linux.go:348: starting container process caused &amp;ldquo;process_linux.go:402: container init caused &amp;quot;rootfs_linux.go:58: mounting \&amp;quot;/host_mnt/d/Coding/Server/drone/default.conf\&amp;quot; to rootfs \&amp;quot;/var/lib/docker/overlay2/469fecfa64bb76c8c467ddfeea1084a1acdd3f279f1b38822d3a9458c243f71e/merged\&amp;quot; at \&amp;quot;/var/lib/docker/overlay2/469fecfa64bb76c8c467ddfeea1084a1acdd3f279f1b38822d3a9458c243f71e/merged/etc/nginx/conf.d/default.conf\&amp;quot; caused \&amp;quot;not a directory\&amp;quot;&amp;quot;&amp;quot;: unknown: Are you trying to mount a directory onto a file (or vice-versa)?</description></item><item><title>Drone遊玩心得(2)</title><link>https://www.k-derek.dev/posts/20180130/</link><pubDate>Tue, 30 Jan 2018 22:45:46 +0000</pubDate><author>peter890701@gmail.com (Derek)</author><guid>https://www.k-derek.dev/posts/20180130/</guid><description>今天設置了 google domain 將Drone的網址設置為drone.konoha-derek.com -&amp;gt; konoha-derek.com:8081
結果實驗的時候發現出現&amp;quot;The system failed to process your Login request&amp;quot;
本來以為是drone站台錯誤造成的
就去把drone重啟
結果更悲劇了 orz~
完全無法連線drone
開始各種查詢，還以為是K8s的問題，不過查看的結果跟它一點毛關係也沒有
原來是我在docker-compose.yml 中把DRONE_HOST跟9000PORT拿掉的關係
加回去再重新建立就可以正常了~
果然不能亂改阿!
不過開頭的問題還是無解~~~~~
明天再來研究好了!
PS.今天被支付寶弄到氣炸!這就下次再來講述一篇好了XD</description></item><item><title>Drone遊玩心得</title><link>https://www.k-derek.dev/posts/20180128/</link><pubDate>Sun, 28 Jan 2018 19:45:46 +0000</pubDate><author>peter890701@gmail.com (Derek)</author><guid>https://www.k-derek.dev/posts/20180128/</guid><description>這幾日安裝Drone的心得
這次安裝Drone 參考了 https://yami.io/drone/
不過安裝後因為文章是80port,而80port好像被IIS給佔用了(悲劇)
只好換成8081
後續想換成http://domain/drone
發現docker好像不能用
只好先用成http://domain:8081 去做設定
其實中間在連線時一直404 orz~~
domin最後也是用google domain設定
然後路由器偷懶設定DMZ
就這樣終於架設起來了
後續要來完成plurk的機器人，然後來做測試了</description></item></channel></rss>